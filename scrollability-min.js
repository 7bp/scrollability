/* See LICENSE for terms of usage */(function(){function N(b){var c=b.parentNode;return{node:b,scrollbar:K(b),min:-c.scrollHeight+c.offsetHeight,max:0,viewport:c.offsetHeight,bounce:c.offsetHeight*e,constrained:!0,delegate:b.scrollDelegate,filter:function(a,b){return b},disable:function(b,c,d,e){var f=Math.abs(b-d),g=Math.abs(c-e);if(f>g&&f>a)return!0},update:function(a,b){J(a,a.scrollable_horizontal||0,b)}}}function M(b){var c=b.parentNode;return{node:b,min:-c.scrollWidth+c.offsetWidth,max:0,viewport:c.offsetWidth,bounce:c.offsetWidth*e,constrained:!0,delegate:b.scrollDelegate,filter:function(a,b){return a},disable:function(b,c,d,e){var f=Math.abs(b-d),g=Math.abs(c-e);if(g>f&&g>a)return!0},update:function(a,b){J(a,b,a.scrollable_vertical||0)}}}function L(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b}function K(a){if(!a.scrollableScrollbar){var b=a.scrollableScrollbar=document.createElement("div");b.className="scrollableScrollbar",b.style.cssText=["position: absolute","top: 0","right: 2px","width: 5px","min-height: 4px","background: rgba(40, 40, 40, 0.6)","border: 1px solid rgba(255, 255, 255, 0.075)","opacity: 0","-webkit-border-radius: 4px 5px","-webkit-transform: translate3d(0,0,0)","-webkit-transition: opacity 0.15s linear","-webkit-box-sizing: border-box","z-index: 2147483647"].join(";")}return a.scrollableScrollbar}function J(a,b,c){l?a.style.webkitTransform="translate3d("+(b?b+"px":"0")+","+(c?c+"px":"0")+","+"0)":m&&(a.style.MozTransform="translate("+(b?b+"px":"0")+","+(c?c+"px":"0")+")")}function I(){if(u){clearInterval(u),u=0;for(var a=0;a<v.length;++a){var b=v[a];b.terminator()}v=[]}}function H(a){for(var b=0;b<a.length;++b){var c=a[b];c.className=c.className.replace("touched","")}}function G(a){var b=[];for(var c=a;c;c=c.parentNode)c.nodeType==1&&(c.className=(c.className?c.className+" ":"")+"touched",b.push(c));return b}function F(a,b,c,d){var e=a.className.split(" ");for(var f=0;f<e.length;++f){var g=e[f];if(w[g]){var h=w[g](a);h.key="scrollable_"+g,h.paginated=e.indexOf("paginated")!=-1,h.key in a||(a[h.key]=h.initial?h.initial(a):0);return h}}}function E(a,b,c,d,e){while(a){if(a.nodeType==1){var f=F(a,c,d,e);if(f){var g=!1;for(var h=0;h<b.length;++h)if(b[h].node==a){g=!0;break}g||(f=B(f,c,d,e),f&&b.push(f))}}a=a.parentNode}}function D(a,b,c,d){var e=[];E(a,e,b,c,d);var f=document.querySelectorAll(".scrollable.global");for(var g=0;g<f.length;++g)E(f[g],e,b,c,d);return e}function C(){var a=(new Date).getTime();for(var b=0;b<v.length;++b){var c=v[b],d=c.filter(p,q);c.animator(d,a)||(c.terminator(),v.splice(b--,1))}v.length||I()}function B(e,k,l,m){function U(){if(p){var a=Math.round(u/q);T(a*(q+z))}else u>w&&o?T(w):u<v&&o&&T(v);t&&(t.style.opacity="0",t.style.webkitTransition="opacity 0.2s linear"),n&&n.onEndScroll&&n.onEndScroll()}function T(a,b){u=a,e.node[e.key]=u,e.update(e.node,u),n&&n.onScroll&&n.onScroll(u);var c=-v-w;if(t&&q<c){var d=q-j*2,f=d/c*d,g=0;u>w?(f=Math.max(f-(u-w),5),g=0):u<v?(f=Math.max(f-(v-u),5),g=d-f):g=Math.round(Math.abs(u)/c*(d-f)),g+=j,t.style.height=Math.round(f)+"px",J(t,0,Math.round(g)),s&&(t.style.webkitTransition="none",t.style.opacity="1")}return b}function S(h,j){var k=1/(j-H);H=j;var l=!0;if(r){var m=(h-G)*b;if(!m){I||(I=j);if(j-I<K)return!0}else I=0;!N&&Math.abs(h-startTouch)>a&&(N=!0,n&&n.onLockScroll&&n.onLockScroll(e.key)),G=h,A=m/k;if(u>w&&o){var s=u-w;A*=1-s/E}else if(u<v&&o){var s=v-u;A*=1-s/E}}else{if(p&&!M){M=!0;if(Math.abs(u-w)>F||Math.abs(A)>i)if(u>w){if(w!=y){w+=q+z,v+=q+z;if(n&&n.onScrollPage){var t=v%q,J=-Math.round((u+q-t)/q);n.onScrollPage(J,-1)}}}else if(v!=x){w-=q+z,v-=q+z;if(n&&n.onScrollPage){var t=v%q,J=-Math.round((u-q-t)/q);n.onScrollPage(J,1)}}}if(u>w&&o){if(!(A>0)){B||(C=u,D=w-u),u=L(B,C,D,g);return T(u,++B<=g&&Math.floor(u)>w)}var s=u-w,O=1-s/E;A=Math.max(A-f*k,0)*O,B=0}else if(u<v&&o){if(!(A<0)){B||(C=u,D=v-u),u=L(B,C,D,g);return T(u,++B<=g&&Math.ceil(u)<v)}var s=v-u,O=1-s/E;A=Math.min(A+f*k,0)*O,B=0}else{B||(A<0&&A<-c?A=-c:A>0&&A>c&&(A=c),C=A),A=L(B,C,-C,d);if(++B>d||Math.floor(A)==0)l=!1}}u+=A*k;return T(u,l)}var n=e.delegate,o=e.constrained,p=e.paginated,q=e.viewport||0,t=e.scrollbar,u=e.node[e.key],v=e.min,w=e.max,x=v,y=Math.round(w/q)*q,z=0,A=0,B=0,C,D,E=e.bounce,F=q*h,G=startTouch=e.filter(k,l),H=m,I=0,K=20,M=!1,N=!1;if(p){var O=Math.round(Math.abs(x)%q),P=(Math.abs(x)-O)/q+1,z=O/P,Q=Math.round(u)%q,R=Math.round((u-Q)/q)*q;v=w=Math.round(R+y)+Q,x+=z}if(n&&n.onStartScroll&&!n.onStartScroll())return null;t&&e.node.parentNode.appendChild(t),e.updater=T,e.animator=S,e.terminator=U;return e}function A(a){function i(a){f&&(clearTimeout(f),f=0);if(d){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,1),d[0].dispatchEvent(b),H(d)}g.removeEventListener("touchmove",h,!1),g.removeEventListener("touchend",i,!1),r=!1}function h(a){a.preventDefault(),s=!0,f&&(clearTimeout(f),f=0),d&&(H(d),d=null);var b=a.touches[0];p=b.clientX,q=b.clientY;if(v.length>1)for(var c=0;c<v.length;++c){var e=v[c];if(e.disable&&e.disable(p,q,n,o)){e.terminator(),v.splice(c,1);break}}}I();var b=a.target,c=a.touches[0],d=null,e=(new Date).getTime();p=n=c.clientX,q=o=c.clientY,r=!0,s=!1,v=D(a.target,p,q,e);if(!v.length&&!scrollability.globalScrolling)return!0;var f=setTimeout(function(){f=0,d=G(b)},50),g=document;g.addEventListener("touchmove",h,!1),g.addEventListener("touchend",i,!1),u=setInterval(C,0)}function z(a){t=!0}function y(a){setTimeout(function(){if(t)t=!1;else{var a=document.getElementsByClassName("scrollable");if(a.length){var b=a[0];b.className.indexOf("vertical")!=-1&&scrollability.scrollTo(b,0,0,k)}}})}function x(){scrollability.flashIndicators()}var a=10,b=1,c=720/(window.devicePixelRatio||1),d=350,e=.5,f=600,g=90,h=.3,i=50,j=2,k=12,l="webkitTransform"in document.documentElement.style,m="MozTransform"in document.documentElement.style,n,o,p,q,r,s,t,u=0,v=[],w={horizontal:M,vertical:N};window.scrollability={globalScrolling:!1,scrollers:w,flashIndicators:function(){var a=document.querySelectorAll(".scrollable.vertical");for(var b=0;b<a.length;++b)scrollability.scrollTo(a[b],0,0,20,!0)},scrollTo:function(a,b,c,d,e){var f=0;I();var g=F(a);if(g){e&&(g.delegate=null),g=B(g),v=[g],s=!0;if(d){var h=a[g.key];u=setInterval(function(){g.updater(h+(c-h)*(f/d)),++f>d&&(clearInterval(u),setTimeout(I,100))},20)}else g.updater(c),I()}}},document.addEventListener("touchstart",A,!1),document.addEventListener("scroll",y,!1),document.addEventListener("orientationchange",z,!1),window.addEventListener("load",x,!1)})()